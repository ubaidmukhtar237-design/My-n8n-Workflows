{
  "active": false,
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "GeoCoding",
            "type": "main",
            "index": 0
          },
          {
            "node": "UNIX TimeStap",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GeoCoding": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Distance Matrix": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "UNIX TimeStap": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Distance Matrix",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-10-03T22:34:59.149Z",
  "id": "48dxAa4ah0S8q6ZQ",
  "isArchived": false,
  "meta": null,
  "name": "Geocoding and Distance Matrix:Practice",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -528,
        64
      ],
      "id": "8041bfcf-94a7-43bb-9267-2db0445393aa",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "url": "=https://maps.googleapis.com/maps/api/geocode/json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "address",
              "value": "={{ $json.serviceAgentAddress.replace(/ /g, '+') }}|{{ $json.customerAddress.replace(/ /g, '+') }}"
            },
            {
              "name": "key",
              "value": "AIzaSyDx9u7u9BEaMo-bUNXmzJXXORd1kHXaLv8"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -304,
        -32
      ],
      "id": "0d0f20e6-f563-476d-ae87-97ff2a478775",
      "name": "GeoCoding"
    },
    {
      "parameters": {
        "url": "https://maps.googleapis.com/maps/api/distancematrix/json",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "origins",
              "value": "={{ $json.results[0].geometry.location.lat }},{{ $json.results[0].geometry.location.lng }}"
            },
            {
              "name": "destinations",
              "value": "={{ $json.results[1].geometry.location.lat }},{{ $json.results[1].geometry.location.lng }}"
            },
            {
              "name": "units",
              "value": "metric"
            },
            {
              "name": "mode",
              "value": "driving"
            },
            {
              "name": "departure_time",
              "value": "={{ $json.unixTimestamp }}"
            },
            {
              "name": "key",
              "value": "AIzaSyDx9u7u9BEaMo-bUNXmzJXXORd1kHXaLv8"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        144,
        64
      ],
      "id": "81cfe5ca-fd3e-400e-860d-41cfd8ee2b63",
      "name": "Distance Matrix"
    },
    {
      "parameters": {
        "jsCode": "// This version is compatible with older n8n instances.\n\nfor (const item of items) {\n  // The input field name from your data.\n  const inputFieldName = 'avaiableTime';\n\n  // The desired name for the output field.\n  const outputFieldName = 'unixTimestamp';\n\n  const isoString = item.json[inputFieldName];\n\n  if (!isoString) {\n    item.json.error = `Input field '${inputFieldName}' not found.`;\n    continue;\n  }\n\n  // Create a Date object from the ISO string.\n  const dateObject = new Date(isoString);\n\n  // Check if the date is valid.\n  if (isNaN(dateObject.getTime())) {\n    item.json.error = `Invalid date format in '${inputFieldName}': ${isoString}`;\n    continue;\n  }\n\n  // Convert milliseconds to seconds for the UNIX timestamp.\n  const unixTimestampInSeconds = Math.floor(dateObject.getTime() / 1000);\n\n  // Add the new field to the item.\n  item.json[outputFieldName] = unixTimestampInSeconds;\n}\n\n// Return the modified data.\nreturn items;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        160
      ],
      "id": "7bc857f8-e074-4179-ba49-5f5c436e8d99",
      "name": "UNIX TimeStap"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -80,
        64
      ],
      "id": "d5bd7eac-2bb9-4cd8-9e71-cad0da4601c8",
      "name": "Merge"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9adb0118-52c8-4350-9a1d-a5e64c0900cf",
              "name": "=Answer",
              "value": "=It would take {{ $json.rows[0].elements[0].duration_in_traffic.text }} to reach your address at {{ $('When clicking ‘Execute workflow’').item.json.customerAddress }}.",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        384,
        64
      ],
      "id": "f65ece3a-271d-4423-98a3-3ea28ba6d777",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "content": "Geocoding and Distance Matrix:Practice",
        "height": 400,
        "width": 1392,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -656,
        -80
      ],
      "typeVersion": 1,
      "id": "0f9c6267-0f8c-426d-9820-107e0d5e05e6",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "Available Time:Practice",
        "height": 352,
        "width": 1392,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -656,
        336
      ],
      "typeVersion": 1,
      "id": "13281280-2896-43b1-a20f-13a9ae2d1993",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {
    "When clicking ‘Execute workflow’": [
      {
        "json": {
          "serviceAgentAddress": "66 Third Ave, E 11th St, New York, NY 10003, United States",
          "customerAddress": "New York, NY 10007, United States",
          "avaiableTime": "2025-10-06T22:30:00+05:00"
        }
      }
    ],
    "GeoCoding": [
      {
        "json": {
          "results": [
            {
              "address_components": [
                {
                  "long_name": "East 11th Street",
                  "short_name": "E 11th St",
                  "types": [
                    "route"
                  ]
                },
                {
                  "long_name": "Manhattan",
                  "short_name": "Manhattan",
                  "types": [
                    "political",
                    "sublocality",
                    "sublocality_level_1"
                  ]
                },
                {
                  "long_name": "New York",
                  "short_name": "New York",
                  "types": [
                    "locality",
                    "political"
                  ]
                },
                {
                  "long_name": "New York County",
                  "short_name": "New York County",
                  "types": [
                    "administrative_area_level_2",
                    "political"
                  ]
                },
                {
                  "long_name": "New York",
                  "short_name": "NY",
                  "types": [
                    "administrative_area_level_1",
                    "political"
                  ]
                },
                {
                  "long_name": "United States",
                  "short_name": "US",
                  "types": [
                    "country",
                    "political"
                  ]
                },
                {
                  "long_name": "10003",
                  "short_name": "10003",
                  "types": [
                    "postal_code"
                  ]
                }
              ],
              "formatted_address": "E 11th St, New York, NY 10003, USA",
              "geometry": {
                "bounds": {
                  "northeast": {
                    "lat": 40.73403840000002,
                    "lng": -73.9840066
                  },
                  "southwest": {
                    "lat": 40.72938409999998,
                    "lng": -73.9950466
                  }
                },
                "location": {
                  "lat": 40.7320044,
                  "lng": -73.9902169
                },
                "location_type": "GEOMETRIC_CENTER",
                "viewport": {
                  "northeast": {
                    "lat": 40.73403840000002,
                    "lng": -73.9840066
                  },
                  "southwest": {
                    "lat": 40.72938409999998,
                    "lng": -73.9950466
                  }
                }
              },
              "partial_match": true,
              "place_id": "EiJFIDExdGggU3QsIE5ldyBZb3JrLCBOWSAxMDAwMywgVVNBIi4qLAoUChIJy_xTzp1ZwokRk6Bv-fxOdHASFAoSCXc5REmZWcKJERmv3uC4ysVC",
              "types": [
                "route"
              ]
            },
            {
              "address_components": [
                {
                  "long_name": "66",
                  "short_name": "66",
                  "types": [
                    "street_number"
                  ]
                },
                {
                  "long_name": "3rd Avenue",
                  "short_name": "3rd Ave",
                  "types": [
                    "route"
                  ]
                },
                {
                  "long_name": "Boerum Hill",
                  "short_name": "Boerum Hill",
                  "types": [
                    "neighborhood",
                    "political"
                  ]
                },
                {
                  "long_name": "Brooklyn",
                  "short_name": "Brooklyn",
                  "types": [
                    "political",
                    "sublocality",
                    "sublocality_level_1"
                  ]
                },
                {
                  "long_name": "Kings County",
                  "short_name": "Kings County",
                  "types": [
                    "administrative_area_level_2",
                    "political"
                  ]
                },
                {
                  "long_name": "New York",
                  "short_name": "NY",
                  "types": [
                    "administrative_area_level_1",
                    "political"
                  ]
                },
                {
                  "long_name": "United States",
                  "short_name": "US",
                  "types": [
                    "country",
                    "political"
                  ]
                },
                {
                  "long_name": "11217",
                  "short_name": "11217",
                  "types": [
                    "postal_code"
                  ]
                },
                {
                  "long_name": "1805",
                  "short_name": "1805",
                  "types": [
                    "postal_code_suffix"
                  ]
                }
              ],
              "formatted_address": "66 3rd Ave, Brooklyn, NY 11217, USA",
              "geometry": {
                "location": {
                  "lat": 40.684745,
                  "lng": -73.9813992
                },
                "location_type": "RANGE_INTERPOLATED",
                "viewport": {
                  "northeast": {
                    "lat": 40.6860477802915,
                    "lng": -73.97993176970849
                  },
                  "southwest": {
                    "lat": 40.6833498197085,
                    "lng": -73.9826297302915
                  }
                }
              },
              "navigation_points": [
                {
                  "location": {
                    "latitude": 40.6846567,
                    "longitude": -73.9811728
                  }
                }
              ],
              "partial_match": true,
              "place_id": "EiM2NiAzcmQgQXZlLCBCcm9va2x5biwgTlkgMTEyMTcsIFVTQSIwEi4KFAoSCb2k2BStW8KJEelI5LjQNS33EEIqFAoSCVEAr_S3WsKJEfBWSwm_5RoP",
              "types": [
                "street_address"
              ]
            }
          ],
          "status": "OK"
        }
      }
    ],
    "Distance Matrix": [
      {
        "json": {
          "destination_addresses": [
            "68 3rd Ave, Brooklyn, NY 11217, USA"
          ],
          "origin_addresses": [
            "1234 4th Ave, New York, NY 10003, USA"
          ],
          "rows": [
            {
              "elements": [
                {
                  "distance": {
                    "text": "6.1 km",
                    "value": 6102
                  },
                  "duration": {
                    "text": "21 mins",
                    "value": 1256
                  },
                  "duration_in_traffic": {
                    "text": "21 mins",
                    "value": 1255
                  },
                  "status": "OK"
                }
              ]
            }
          ],
          "status": "OK"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-10-03T22:34:59.152Z",
      "updatedAt": "2025-10-03T22:34:59.152Z",
      "role": "workflow:owner",
      "workflowId": "48dxAa4ah0S8q6ZQ",
      "projectId": "HHLWOKEAArOwm3kN"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-10-04T23:07:17.000Z",
  "versionId": "97a4eecf-ffa3-462f-af6c-e52693d94784"
}