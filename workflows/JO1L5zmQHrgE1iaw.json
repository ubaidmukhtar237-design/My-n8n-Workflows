{
  "active": false,
  "connections": {
    "Create Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Vertex Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Delete Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get Event": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "checkAvail": {
      "ai_tool": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Calendar Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Calendar Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-15T21:31:12.626Z",
  "id": "JO1L5zmQHrgE1iaw",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Fully functional calendar AI Agent",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "=<role>\nYou are a Google Calendar Agent responsible for managing calendar events on behalf of users. Your purpose is to schedule, update, and remove meetings efficiently while following calendar best practices like checking availability. You are connected to Simon's calendar, simon@scrapes.ai who is asking you to schedule meetings.\n</role>\n\n<constraints>\n*Never modify or delete events without explicit confirmation\n*Respect working hours set in Google Calendar\n*Always verify date and time formats before creating events\n*Today's date is {{ $now }}\n*If a user specifies a day e.g. \"on Thursday\", assume it's the next Thursday from today's date\n*If a user asks to check availability at a specific time, assume a before time of 1 hour before that and an after time of 1 hour after the specified time\n*For vague user queries, clarify details before continuing an action\n</constraints>\n\n<tools>\n1. CreateEvent - Creates new calendar events with parameters:\n    *summary (required)\n    *description (required)\n    *startTime (required, format: YYYY-MM-DDTHH:MM:SS-07:00)\n    *endTime (required, format: YYYY-MM-DDTHH:MM:SS-07:00)\n2. DeleteEvent - Removes calendar events with parameters:\n    *eventID (required)\n    *sendUpdates (optional)\n3. GetEvents - Retrieves calendar events with parameters (useful for getting eventID):\n    *before (required, format: YYYY-MM-DDTHH:MM:SS-07:00) - before this time\n    *after (required, format: YYYY-MM-DDTHH:MM:SS-07:00) - after this time\n4. UpdateEvent - Updates calendar events with parameters:\n    *eventID (required)\n    *summary (optional)\n    *description (optional)\n    *startTime (new - required, format: YYYY-MM-DDTHH:MM:SS-07:00)\n    *endTime (new - required, format: YYYY-MM-DDTHH:MM:SS-07:00)\n5. CheckAvailability - Retrieves 'busy' slots between that time period i.e. not free\n    *before (required, format: YYYY-MM-DDTHH:MM:SS-07:00) - before this time\n    *after (required, format: YYYY-MM-DDTHH:MM:SS-07:00) - after this time\n</tools>\n\n<instructions (Workflow Sequence)>",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        352,
        -96
      ],
      "id": "4967ff5b-7317-4bc7-99f5-21cb0eb5cd2d",
      "name": "Calendar Agent"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "ubaidmukhtar237@gmail.com",
          "mode": "list",
          "cachedResultName": "ubaidmukhtar237@gmail.com"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', `the start of the meeting`, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', `the end of the meeting`, 'string') }}",
        "additionalFields": {
          "attendees": [
            "={{ $fromAI(\"attendeeEmail\", 'emails of any other people mentioned if they exist(' | ')') }}"
          ]
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        224,
        128
      ],
      "id": "ef5ee3bd-46d7-4aa2-964d-480f8ae34ac2",
      "name": "Create Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "cXzASFAyNaVtWAiR",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "projectId": {
          "__rl": true,
          "value": "modified-keep-470614-p0",
          "mode": "list",
          "cachedResultName": "My First Project"
        },
        "modelName": "gemini-2.5-pro",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleVertex",
      "typeVersion": 1,
      "position": [
        -32,
        128
      ],
      "id": "cc87ffa1-4618-4493-823d-b71d93a99515",
      "name": "Google Vertex Chat Model",
      "credentials": {
        "googleApi": {
          "id": "8Mdij8EM49DuVbZ1",
          "name": "Google Service Account account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "calendar": {
          "__rl": true,
          "value": "ubaidmukhtar237@gmail.com",
          "mode": "list",
          "cachedResultName": "ubaidmukhtar237@gmail.com"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        352,
        128
      ],
      "id": "339e8e21-4c99-41d5-8cc1-1a46880a46ca",
      "name": "Delete Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "cXzASFAyNaVtWAiR",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "calendar": {
          "__rl": true,
          "value": "ubaidmukhtar237@gmail.com",
          "mode": "list",
          "cachedResultName": "ubaidmukhtar237@gmail.com"
        },
        "eventId": "={{ $fromAI('descriptionEvent', 'the description of the event') }}",
        "updateFields": {
          "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
          "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        480,
        128
      ],
      "id": "d3dd8ddb-923f-486b-b91e-3cf4bcad21f2",
      "name": "Update Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "cXzASFAyNaVtWAiR",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "ubaidmukhtar237@gmail.com",
          "mode": "list",
          "cachedResultName": "ubaidmukhtar237@gmail.com"
        },
        "returnAll": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Return_All', ``, 'boolean') }}",
        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('After', ``, 'string') }}",
        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Before', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        608,
        128
      ],
      "id": "aefa823b-3b3f-4dcb-a858-c5e15d23c02f",
      "name": "Get Event",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "cXzASFAyNaVtWAiR",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "content": "## ",
        "height": 448,
        "width": 1456,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -352,
        -144
      ],
      "typeVersion": 1,
      "id": "969ec5e2-4bf3-4982-8148-c7be5c5449d9",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "resource": "calendar",
        "calendar": {
          "__rl": true,
          "value": "ubaidmukhtar237@gmail.com",
          "mode": "list",
          "cachedResultName": "ubaidmukhtar237@gmail.com"
        },
        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start_Time', ``, 'string') }}",
        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End_Time', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        736,
        128
      ],
      "id": "7f2a7c80-35fb-4e04-ba53-a57d2d222fff",
      "name": "checkAvail",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "cXzASFAyNaVtWAiR",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -16,
        -96
      ],
      "id": "46b35ac1-518b-4bae-ac5d-fff858469824",
      "name": "When chat message received",
      "webhookId": "93fecd87-04b2-4194-aedc-386822a8dfce"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "1"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        112,
        128
      ],
      "id": "ce0e98cf-9590-4bda-95fe-edc722d5b8f3",
      "name": "Simple Memory"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "createdAt": "2025-09-15T21:31:12.629Z",
      "updatedAt": "2025-09-15T21:31:12.629Z",
      "role": "workflow:owner",
      "workflowId": "JO1L5zmQHrgE1iaw",
      "projectId": "HHLWOKEAArOwm3kN"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-09-16T03:58:22.000Z",
  "versionId": "90d3db93-f1eb-49b3-ac3d-fc96a3807d9c"
}